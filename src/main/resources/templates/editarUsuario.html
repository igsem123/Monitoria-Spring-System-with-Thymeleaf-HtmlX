<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Editar Usuário</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Sans:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/output.css}" />
</head>
<body class="bg-gray-100 text-gray-800 antialiased min-h-screen flex flex-col items-center py-10 font-ubuntu">

<div class="container mx-auto px-4 max-w-lg">
    <h1 class="text-4xl font-extrabold text-green-700 text-center mb-4">Editar Usuário</h1>
    <h2 class="text-lg text-green-600 text-center mb-8">Atualize as informações do usuário abaixo.</h2>

    <div class="bg-white shadow-xl rounded-lg p-8 border border-gray-200">
        <form th:action="@{/usuarios}" method="post" th:object="${usuario}" class="space-y-6">
            <input type="hidden" id="id" name="id" th:value="${usuario.id}" />

            <div class="mb-5">
                <label for="nome" class="block text-gray-700 text-sm font-semibold mb-2">Nome:</label>
                <input type="text" id="nome" name="nome" th:value="${usuario.nome}" required
                       class="form-input w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200 ease-in-out">
            </div>

            <div class="mb-5">
                <label for="email" class="block text-gray-700 text-sm font-semibold mb-2">Email:</label>
                <input type="email" id="email" name="email" th:value="${usuario.email}" required
                       class="form-input w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200 ease-in-out">
            </div>

            <div class="mb-5">
                <label for="senha" class="block text-gray-700 text-sm font-semibold mb-2">Senha:</label>
                <input type="password" id="senha" name="senha"
                       class="form-input w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200 ease-in-out"
                       placeholder="Deixe em branco para manter a senha atual">
            </div>

            <div class="mb-6">
                <label for="papelId" class="block text-gray-700 text-sm font-semibold mb-2">Papel:</label>
                <select id="papelId" name="papelId"
                        class="form-select w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200 ease-in-out">
                    <option value="" disabled selected th:unless="${usuario.papel}">Selecione um papel</option>
                    <option th:each="papel : ${papeis}" th:value="${papel.id}" th:text="${papel.nome}"
                            th:selected="${usuario.papel != null and usuario.papel.id == papel.id}">
                    </option>
                </select>
            </div>

            <div class="flex items-center justify-between mt-6">
                <button type="submit"
                        class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition duration-200 ease-in-out shadow-md flex-grow mr-4">
                    Salvar Alterações
                </button>
                <a href="/usuarios/listar"
                   class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200 ease-in-out shadow-md">
                    Cancelar
                </a>
            </div>
        </form>
    </div>
</div>
</body>
</html>